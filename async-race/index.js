(()=>{"use strict";var e,t,n,a,s={917:(e,t,n)=>{n.d(t,{Sz:()=>o,sL:()=>i,xQ:()=>l});var a=n(203),s=n(720),r=n(968);const c=()=>document.querySelector(".road").offsetWidth,o=async e=>{const t=document.getElementById(`${e}`).querySelector("svg");(0,r.Qr)(e,"stop-car-"),(0,r.wD)(e,"start-car-");const n=Date.now(),{velocity:o,distance:i}=await(0,a.p6)(e),l=Date.now()-n,d=Math.round(i/o);return((e,t,n)=>{const r=e.clientWidth,o=c()-r;let i=0,l=0;const d=o/(t/1e3*60),u=t=>{l||(l=t),i=i+=d,e.style.transform=`translateX(${i}px)`,s.h.animations[n]=requestAnimationFrame(u),i>=c()-r&&(window.cancelAnimationFrame(s.h.animations[n]),(0,a.yQ)(n))};s.h.animations[n]=requestAnimationFrame(u)})(t,d,e),{carResult:{success:(await(0,a.Ag)(Number(e))).success,id:e,time:d,delay:l}}},i=async e=>{await(0,a.yQ)(e),window.cancelAnimationFrame(s.h.animations[e])},l=async e=>{document.getElementById(`${e}`).querySelector("svg").style.transform="translateX(0px)",(0,r.wD)(e,"stop-car-"),(0,r.Qr)(e,"start-car-")}},203:(e,t,n)=>{n.d(t,{Ag:()=>C,Bo:()=>p,Fe:()=>m,H9:()=>d,IO:()=>f,P8:()=>v,Rn:()=>u,au:()=>y,eY:()=>b,ix:()=>w,oX:()=>l,p6:()=>_,y0:()=>h,yQ:()=>g});var a=n(601),s=n(917);const r="http://127.0.0.1:3000",c=`${r}/garage`,o=`${r}/winners`,i=`${r}/engine`,l=async e=>{const t=await fetch(`${c}?id=${e}`);return await t.json()},d=async e=>{const t=await fetch(`${o}?id=${e}`);return await t.json()},u=async e=>{const t=await fetch(`${c}?_page=${e}&_limit=${a._r}`);return{item:await t.json(),count:t.headers.get("X-Total-Count")}},w=async(e,t,n)=>{const s=await fetch(`${o}?_page=${e}&_limit=${a.g7}&_sort=${t}&_order=${n}`);return{winners:await s.json(),count:s.headers.get("X-Total-Count")}},m=async()=>{const e=await fetch(`${o}`);return{winners:await e.json(),count:e.headers.get("X-Total-Count")}},b=async e=>{const t=await fetch(`${c}/${e}`,{method:"DELETE"});return await t.json()},y=async e=>{const t=await fetch(`${o}/${e}`,{method:"DELETE"});return await t.json()},h=async e=>{const t=await fetch(`${c}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return await t.json()},p=async(e,t)=>{const n=await fetch(`${c}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});return await n.json()},_=async e=>(await fetch(`${i}?id=${e}&status=started`,{method:"PATCH"})).json(),g=async e=>(await fetch(`${i}?id=${e}&status=stopped`,{method:"PATCH"})).json(),C=async e=>{const t=await fetch(`${i}?id=${e}&status=drive`,{method:"PATCH"});return 500===t.status&&(0,s.sL)(e),200!==t.status?{success:!1}:t.json()},v=async e=>{const t=await fetch(`${o}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return await t.json()},f=async(e,t)=>{const n=await fetch(`${o}/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});return await n.json()}},993:(e,t,n)=>{n.d(t,{C:()=>a});const a=()=>{const e=document.createElement("main");document.body.appendChild(e);const t=document.createElement("section");t.classList.add("garage-section");const n=document.createElement("section");n.classList.add("winners-section","visability--hidden"),e.append(t,n)}},198:(e,t,n)=>{n.d(t,{DT:()=>r,SF:()=>c,e_:()=>a,s$:()=>s,yr:()=>o});const a=()=>'\n  <div class="setting-block">\n    <div class="switch-buttons-block">\n      <button class="switch-buttons switch-buttons__garage">To garage</button>\n      <button class="switch-buttons switch-buttons__winners">To winners</button>\n    </div>\n\n    <div class="create-car-block">\n    <form class="create-new-car">\n      <label class="car-name-label">\n        <input id="add-name" class="car-name-input" type="text" required>\n      </label>\n      <label class="car-color-label">\n        <input id="add-color" class="car-color-input" type="color" required>\n      </label>\n      <button type="submit" id="create-car" class="create-car__button">Create</button>\n    </form>\n    </div>\n\n    <div class="update-car-block">\n      <form class="upadte-car">\n        <label class="car-name-label">\n          <input id="update-name" class="car-name-input" type="text" required>\n        </label>\n        <label class="car-color-label">\n          <input id="update-color" class="car-color-input" type="color" required>\n        </label>\n        <button id="update-car" class="update-car__button">Update</button>\n      </form>\n    </div>\n\n    <div class="race-button-block">\n      <button id="race" class="race-button-block__button">Race</button>\n      <button id="back" class="race-button-block__button">Reset</button>\n      <button id="generate-random-cars" class="race-button-block__button">Generate cars</button>\n    </div>\n  </div>\n',s=async(e,t)=>`\n  <div class="cars-headers">\n    <h2>Garage (<span id="cars-count"> ${e} </span>) </h2>\n    <h3>Page #<span id="page-number"> ${t} </span> </h3>\n  </div>\n  `,r=e=>`\n<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="70px" height="20px" viewBox="0 0 70 20" version="1.1">\n  <g id="surface1">\n    <path style=" stroke:none;fill-rule:nonzero;fill:${e};fill-opacity:1;" d="M 26.578125 0.0390625 C 25.269531 0.136719 23.433594 0.425781 21.980469 0.765625 C 20.503906 1.109375 19.566406 1.390625 18.085938 1.953125 C 15.410156 2.960938 13.125 3.667969 11.785156 3.890625 C 11.425781 3.953125 10.304688 4.101562 9.296875 4.222656 C 6.695312 4.539062 5.605469 4.6875 4.269531 4.914062 C 1.503906 5.371094 -0.0820312 5.96875 0.0117188 6.523438 C 0.0234375 6.585938 0.5625 7.269531 1.214844 8.046875 L 2.394531 9.46875 L 2.148438 9.710938 C 1.433594 10.40625 0.871094 11.347656 0.644531 12.238281 C 0.523438 12.707031 0.523438 12.71875 0.617188 13.265625 C 0.847656 14.648438 1.472656 15.527344 2.691406 16.195312 C 3.269531 16.519531 3.789062 16.671875 4.375 16.703125 C 5.007812 16.738281 5.292969 16.671875 5.582031 16.410156 C 5.847656 16.171875 5.960938 15.824219 5.960938 15.273438 C 5.960938 13.589844 6.289062 11.789062 6.832031 10.464844 C 7.871094 7.949219 9.789062 6.308594 12.199219 5.886719 C 12.945312 5.761719 14.160156 5.804688 14.90625 5.996094 C 17.800781 6.722656 19.988281 9.089844 20.78125 12.347656 C 21.058594 13.492188 21.132812 14.140625 21.125 15.582031 L 21.125 16.886719 L 35.476562 16.886719 C 43.363281 16.886719 49.820312 16.875 49.820312 16.859375 C 49.820312 16.847656 49.769531 16.710938 49.710938 16.550781 C 49.535156 16.113281 49.234375 14.996094 49.132812 14.390625 C 49 13.628906 48.996094 12.246094 49.132812 11.632812 C 49.65625 9.183594 51.367188 7.460938 53.945312 6.796875 C 56.699219 6.089844 59.679688 6.78125 61.566406 8.570312 C 63.40625 10.3125 63.980469 12.84375 63.222656 15.839844 L 63.078125 16.421875 L 63.214844 16.535156 C 63.769531 16.988281 64.542969 16.996094 65.445312 16.535156 C 66.769531 15.871094 68.179688 14.277344 69.332031 12.144531 C 69.859375 11.171875 70.03125 10.757812 69.960938 10.640625 C 69.886719 10.515625 68.949219 9.691406 68.511719 9.363281 C 68.179688 9.113281 68.144531 9.074219 68.179688 8.929688 C 68.222656 8.691406 67.960938 8.195312 67.566406 7.808594 C 66.988281 7.21875 65.566406 6.59375 63.769531 6.140625 C 61.308594 5.511719 58.554688 5.234375 54.6875 5.234375 C 51.582031 5.242188 49.699219 5.367188 47.527344 5.722656 L 46.753906 5.851562 L 46.371094 5.613281 C 44.71875 4.589844 42.503906 3.480469 40.46875 2.660156 C 36.804688 1.171875 33.496094 0.3125 30.433594 0.0546875 C 29.835938 0.00390625 27.167969 -0.00390625 26.578125 0.0390625 Z M 31.035156 1.316406 C 33.742188 1.511719 35.75 2.078125 38.269531 3.355469 C 40.511719 4.496094 41.933594 5.449219 43.175781 6.648438 L 43.667969 7.121094 L 36.886719 7.121094 C 29.5625 7.128906 29.710938 7.132812 29.078125 6.835938 C 28.667969 6.644531 28.167969 6.25 27.835938 5.84375 C 27.558594 5.515625 27.492188 5.371094 26.730469 3.386719 C 26.289062 2.238281 25.921875 1.28125 25.921875 1.273438 C 25.921875 1.234375 30.390625 1.273438 31.035156 1.316406 Z M 24.203125 1.5625 C 24.363281 1.667969 25.0625 3.074219 25.320312 3.808594 C 25.597656 4.621094 25.867188 5.703125 25.867188 6.042969 C 25.867188 6.292969 25.839844 6.382812 25.734375 6.507812 C 25.609375 6.65625 25.582031 6.660156 25.117188 6.65625 C 24.769531 6.65625 24.542969 6.621094 24.304688 6.535156 C 23.929688 6.402344 20.503906 4.363281 20.191406 4.089844 C 19.855469 3.800781 19.6875 3.519531 19.6875 3.265625 C 19.6875 2.550781 20.589844 2.066406 22.777344 1.613281 C 23.691406 1.421875 23.976562 1.410156 24.203125 1.5625 Z M 24.203125 1.5625 "/>\n    <path style=" stroke:none;fill-rule:nonzero;fill:${e};fill-opacity:1;" d="M 12.445312 7.785156 C 10.859375 8.039062 9.421875 8.898438 8.472656 10.160156 C 8.066406 10.695312 7.597656 11.644531 7.4375 12.253906 C 6.6875 15.132812 8 18.070312 10.636719 19.390625 C 11.597656 19.878906 12.402344 20.039062 13.628906 19.996094 C 14.296875 19.972656 14.570312 19.933594 14.980469 19.824219 C 18.242188 18.914062 20.15625 15.582031 19.300781 12.292969 C 18.851562 10.574219 17.675781 9.15625 16.050781 8.355469 C 15.191406 7.933594 14.5625 7.78125 13.5625 7.757812 C 13.125 7.746094 12.621094 7.757812 12.445312 7.785156 Z M 14.050781 11.15625 C 14.550781 11.289062 14.941406 11.511719 15.328125 11.902344 C 16.347656 12.921875 16.457031 14.429688 15.589844 15.570312 C 15.125 16.179688 14.480469 16.558594 13.703125 16.671875 C 12.355469 16.875 10.964844 15.898438 10.636719 14.523438 C 10.40625 13.542969 10.667969 12.640625 11.398438 11.925781 C 12.003906 11.320312 12.550781 11.085938 13.34375 11.078125 C 13.566406 11.074219 13.886719 11.113281 14.050781 11.15625 Z M 14.050781 11.15625 "/>\n    <path style=" stroke:none;fill-rule:nonzero;fill:${e};fill-opacity:1;" d="M 55.644531 7.761719 C 54.828125 7.882812 53.953125 8.179688 53.320312 8.550781 C 49.902344 10.554688 49.234375 15.246094 51.957031 18.121094 C 52.675781 18.875 53.515625 19.40625 54.511719 19.730469 C 55.21875 19.96875 55.769531 20.03125 56.707031 19.996094 C 57.664062 19.960938 58.257812 19.8125 59.089844 19.414062 C 60.84375 18.570312 62.074219 16.941406 62.457031 14.96875 C 62.5625 14.429688 62.546875 13.21875 62.429688 12.664062 C 61.929688 10.28125 60.1875 8.46875 57.835938 7.890625 C 57.40625 7.78125 56.042969 7.703125 55.644531 7.761719 Z M 57.121094 11.15625 C 57.601562 11.28125 57.957031 11.496094 58.378906 11.925781 C 58.828125 12.367188 59.035156 12.757812 59.160156 13.382812 C 59.433594 14.714844 58.601562 16.109375 57.257812 16.5625 C 56.804688 16.714844 56.109375 16.726562 55.644531 16.589844 C 54.375 16.21875 53.507812 14.96875 53.609375 13.679688 C 53.675781 12.933594 53.964844 12.339844 54.519531 11.832031 C 55.074219 11.308594 55.640625 11.085938 56.382812 11.078125 C 56.613281 11.074219 56.941406 11.113281 57.121094 11.15625 Z M 57.121094 11.15625 "/>\n  </g>\n</svg>\n`,c=async(e,t,n)=>`\n  <div class="cars-block" id="${n}">\n    <div class="cars-block__info">\n      <button class="car-select">Select</button>\n      <button class="car-remove">Remove</button>\n      <h4 class="car-name">${e}</h4>\n    </div>\n    <div class="car-controls">\n      <button id="start-car-${n}" class="car-controls__start">A</button>\n      <button id="stop-car-${n}" class="car-controls__back" disabled>B</button>\n    </div>\n    <div class="road">\n      ${r(t)}\n    </div>\n  </div>\n`,o=(e,t,n)=>`\n  <div class="${e}-pagination" >\n    <button class="pagination-button ${e}__prev" ${n<=1||t<=1?"disabled":""}>Prev</button>\n    <button class="pagination-button ${e}__next" ${t<=1||t===n?"disabled":""}>Next</button>\n  </div>\n`},720:(e,t,n)=>{n.d(t,{h:()=>a});let a={page:1,winnersPage:1,winnersSortType:"id",winnersOrder:"ASC",selectedCarID:0,animations:{},isRaceStoped:!1}},638:(e,t,n)=>{n.d(t,{BI:()=>r,D7:()=>s,Se:()=>i,Zn:()=>l,tF:()=>c,zC:()=>o});var a=n(198);const s=()=>'\n    <div class="switch-buttons-block">\n      <button class="switch-buttons switch-buttons__garage">To garage</button>\n      <button class="switch-buttons switch-buttons__winners">To winners</button>\n    </div>\n',r=async(e,t)=>`\n  <div class="winners-headers">\n    <h2>Winners (<span id="winners-count"> ${e} </span>) </h2>\n    <h3>Page #<span id="page-number"> ${t} </span> </h3>\n  </div>\n`,c=()=>'\n  <table class="winners-table">\n    <thead class="winners-table__head">\n      <tr> \n        <th class="winners-table__number">Number</th>\n        <th class="winners-table__car">Car</th>\n        <th class="winners-table__name">Name</th>\n        <th class="winners-table__wins">Wins</th>\n        <th class="winners-table__best-time">Best time (seconds)</th>\n      </tr>\n    </thead>\n    <tbody class="winners-table__body"\n    </tbody>\n  </table>\n',o=(e,t,n,s,r)=>`\n  <tr> \n    <th class="winners-table__number">${e}</th>\n    <th class="winners-table__car">${(0,a.DT)(n)}</th>\n    <th class="winners-table__name">${t}</th>\n    <th class="winners-table__wins">${s}</th>\n    <th class="winners-table__best-time">${r}</th>\n  </tr>\n`,i=(e,t)=>`\n  <div class="new-winner">\n    <p class="new-winner__text">\n      <span class="new-winner__name">${e}</span> \n      <span> came first with the result </span>\n      <span class="new-winner__time">[${t}s]</span>\n    </p>\n  </div>\n`,l=()=>'\n  <div class="new-winner">\n    <p class="new-winner__text">\n      <span> All cars were broken! </span>\n    </p>\n  </div>\n'},601:(e,t,n)=>{n.d(t,{UM:()=>c,_r:()=>a,g7:()=>s,q_:()=>r,yL:()=>o});const a=7,s=10,r=100,c=["Roadster","S","X","3","Y","Cybertruck","X5","X7","X3","X6","GT4","FXX","599 GTO","Enzo","458 Italia","250 GTO","Priora","4x4","Rio","Focus","Kalina","Vesta","Spark","Lacetti","Nexia","Matiz","Cobalt","Captiva","A7","A5","A3","A8","TT","Corolla","Camry","RAV4","Impreza","WRX","ES","LS","RX","GX","LX","GS","LC500","Gallardo","Aventador","911","Cayenne","FX37"],o=["Audi","Alfa Romeo","Alpina","Aston Martin","Axon","Ford","Ferrari","Fiat","GAZ","GMC","Honda","Hummer","Hyundai","Infiniti","Isuzu","JAC","Jaguar","Jeep","Kamaz","Lada","Lexus","Lotus","MAN","Maybach","MAZ","Mazda","McLaren","Nissan","Opel","Paccar","Pagani","Pontiac","Porsche","Renault","Å koda","Smart","Subaru","Suzuki","Tesla","Toyota","UAZ","Volvo","ZAZ","XPeng","TVR","Saab","RAM","Chevrolet","Mazzanti","Daewoo"]},102:(e,t,n)=>{n.d(t,{y:()=>d});var a=n(203),s=n(720),r=n(349),c=n(968),o=n(601),i=n(917),l=n(638);const d=async()=>{const e=document.querySelector(".garage-section"),t=document.querySelector(".winners-section"),n=n=>{n.target.classList.contains("switch-buttons__garage")&&(null==e||e.classList.remove("visability--hidden"),null==t||t.classList.add("visability--hidden"));const a=document.querySelector(".new-winner");a&&a.classList.remove("visability--hidden")},d=n=>{n.target.classList.contains("switch-buttons__winners")&&(null==e||e.classList.add("visability--hidden"),null==t||t.classList.remove("visability--hidden"));const a=document.querySelector(".new-winner");a&&a.classList.add("visability--hidden")},u=document.querySelectorAll(".switch-buttons__garage"),w=document.querySelectorAll(".switch-buttons__winners");u.forEach((e=>{e.addEventListener("click",n)})),w.forEach((e=>{e.addEventListener("click",d)}));const m=document.getElementById("create-car");null==m||m.addEventListener("click",(async e=>{e.preventDefault();const t=document.getElementById("add-name"),n=document.getElementById("add-color"),s={name:t.value,color:n.value};t.value&&n.value&&(await(0,a.y0)(s),await(0,r.AH)())}));const b=async()=>{document.querySelector(".winners-table__body").textContent="",document.querySelector(".winners-pagination").remove();const e=document.querySelector(".winners-headers");e.textContent="",await(0,r.SQ)(e),await(0,r.D7)(),await(0,r.yh)()},y=async e=>{e.target.closest(".winners__next")&&(s.h.winnersPage++,await b())},h=async e=>{e.target.closest(".winners__prev")&&(s.h.winnersPage--,await b())},p=()=>{const e=document.querySelector(".new-winner");e&&e.remove()};null==e||e.addEventListener("click",(async e=>{e.target.closest(".garage__next")&&(s.h.page++,await(0,r.AH)())})),null==e||e.addEventListener("click",(async e=>{e.target.closest(".garage__prev")&&(s.h.page--,await(0,r.AH)())})),null==e||e.addEventListener("click",y),null==e||e.addEventListener("click",h),null==e||e.addEventListener("click",(async e=>{var t;const n=e.target.closest(".car-remove");if(n){const e=document.querySelector(".winners-table__body"),s=await(0,a.Fe)(),c=null===(t=n.closest(".cars-block"))||void 0===t?void 0:t.id;s.winners.includes(Number(c)),(0,a.eY)(Number(c)),Number(c)&&(0,a.au)(Number(c)),(0,r.AH)(),e.textContent="",(0,r.D7)()}})),null==e||e.addEventListener("click",(async e=>{var t;const n=e.target.closest(".car-select");if(n){const e=null===(t=n.closest(".cars-block"))||void 0===t?void 0:t.id;s.h.selectedCarID=Number(e)}})),null==e||e.addEventListener("click",(async e=>{var t;const n=e.target.closest(".car-controls__start");if(n){const e=null===(t=n.closest(".cars-block"))||void 0===t?void 0:t.id;await(0,i.Sz)(Number(e))}})),null==e||e.addEventListener("click",(async e=>{var t;const n=e.target.closest(".car-controls__back");if(n){const e=null===(t=n.closest(".cars-block"))||void 0===t?void 0:t.id;await(0,a.yQ)(Number(e)),await(0,i.sL)(Number(e)),await(0,i.xQ)(Number(e))}})),document.getElementById("update-car").addEventListener("click",(async e=>{if(e.preventDefault(),0!==s.h.selectedCarID){const e=document.getElementById("update-name"),t=document.getElementById("update-color"),n={name:e.value,color:t.value};if(e.value&&t.value){const e=document.querySelector(".winners-table__body");await(0,a.Bo)(s.h.selectedCarID,n),await(0,r.AH)(),e.textContent="",await(0,r.D7)(),s.h.selectedCarID=0}}}));const _=document.getElementById("generate-random-cars");null==_||_.addEventListener("click",(()=>(0,c.cj)(o.q_)));const g=document.getElementById("race");null==g||g.addEventListener("click",(async()=>{(0,c.W_)(!0),p(),!0===s.h.isRaceStoped&&(s.h.isRaceStoped=!1);const e=document.querySelectorAll(".cars-block"),t=[];e.forEach((e=>t.push(Number(e.id))));let n=t.map((e=>(0,i.Sz)(e)));const o=(await Promise.all(n)).filter((e=>!0===e.carResult.success));!0!==s.h.isRaceStoped&&(async e=>{const t=document.querySelector("main"),n=document.createRange().createContextualFragment((0,l.Zn)());if(0===e.length)t.append(n);else{const n=e.sort(((e,t)=>e.carResult.time+e.carResult.delay-(t.carResult.time+t.carResult.delay))),s={id:n[0].carResult.id,time:n[0].carResult.time+n[0].carResult.delay},c=Number((s.time/1e3).toFixed(2)),o=await(0,a.oX)(s.id),i=await(0,a.H9)(s.id),d=async()=>{document.querySelector(".winners-table__body").textContent="",await(0,r.D7)()};if(0===i.length){const e={id:s.id,wins:1,time:c};await(0,a.P8)(e),await d()}else{const e={wins:i[0].wins+1,time:Number(`${i[0].time<c?i[0].time:c}`)};await(0,a.IO)(s.id,e),await d()}const u=document.createRange().createContextualFragment((0,l.Se)(o[0].name,c));t.append(u)}})(o)}));const C=document.getElementById("back");null==C||C.addEventListener("click",(async()=>{s.h.isRaceStoped=!0,(0,c.W_)(!1),p(),document.querySelectorAll(".cars-block").forEach((async e=>{await(0,a.yQ)(Number(e.id)),await(0,i.sL)(Number(e.id)),await(0,i.xQ)(Number(e.id))}))})),null==t||t.addEventListener("click",y),null==t||t.addEventListener("click",h),null==t||t.addEventListener("click",(async e=>{const t=e.target.closest(".winners-table__wins"),n=document.querySelector(".winners-table__best-time");t&&(null==n||n.classList.remove("winners-table__best-time--sort-asc","winners-table__best-time--sort-desc"),s.h.winnersSortType="wins",t.classList.contains("winners-table__wins--sort-asc")?(t.classList.add("winners-table__wins--sort-desc"),t.classList.remove("winners-table__wins--sort-asc"),s.h.winnersOrder="desc"):(t.classList.add("winners-table__wins--sort-asc"),t.classList.remove("winners-table__wins--sort-desc"),s.h.winnersOrder="asc"),await b())})),null==t||t.addEventListener("click",(async e=>{const t=e.target.closest(".winners-table__best-time"),n=document.querySelector(".winners-table__wins");t&&(null==n||n.classList.remove("winners-table__wins--sort-asc","winners-table__wins--sort-desc"),s.h.winnersSortType="time",t.classList.contains("winners-table__best-time--sort-asc")?(t.classList.add("winners-table__best-time--sort-desc"),t.classList.remove("winners-table__best-time--sort-asc"),s.h.winnersOrder="desc"):(t.classList.add("winners-table__best-time--sort-asc"),t.classList.remove("winners-table__best-time--sort-desc"),s.h.winnersOrder="asc"),await b())}))}},607:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var a=n(993),s=n(349),r=n(102);(0,a.C)(),await(0,s.WK)(),await(0,s.yb)(),await(0,r.y)(),t()}catch(e){t(e)}}),1)},349:(e,t,n)=>{n.d(t,{AH:()=>m,D7:()=>h,SQ:()=>d,WK:()=>b,yb:()=>y,yh:()=>w});var a=n(198),s=n(203),r=n(720),c=n(638),o=n(601);const i=async e=>{const t=await(0,s.Rn)(r.h.page),n=document.createElement("div");n.classList.add("page-cars"),e.append(n);for(let e=0;e<Number(t.item.length);e++){const s=document.createRange().createContextualFragment(await(0,a.SF)(t.item[e].name,t.item[e].color,t.item[e].id));n.append(s)}},l=async e=>{const t=await(0,s.Rn)(r.h.page),n=document.createRange().createContextualFragment(await(0,a.s$)(Number(t.count),r.h.page));e.append(n)},d=async e=>{const t=await(0,s.ix)(r.h.winnersPage,r.h.winnersSortType,r.h.winnersOrder),n=document.createRange().createContextualFragment(await(0,c.BI)(Number(t.count),r.h.winnersPage));e.append(n)},u=async()=>{const e=await(0,s.Rn)(r.h.page),t=document.querySelector(".garage-section"),n=Math.ceil(Number(e.count)/o._r),c=document.createRange().createContextualFragment((0,a.yr)("garage",n,r.h.page));t.append(c)},w=async()=>{const e=await(0,s.ix)(r.h.winnersPage,r.h.winnersSortType,r.h.winnersOrder),t=Math.ceil(Number(e.count)/o.g7),n=document.querySelector(".winners-section"),c=document.createRange().createContextualFragment((0,a.yr)("winners",t,r.h.winnersPage));n.append(c)},m=async()=>{const e=document.querySelector(".cars-headers"),t=document.querySelector(".page-cars"),n=document.querySelector(".garage-pagination");e.textContent="",t.textContent="",n.remove(),await l(e),await i(t),await u()},b=async()=>{const e=document.createRange().createContextualFragment((0,a.e_)()),t=document.querySelector(".garage-section"),n=document.createElement("section");n.classList.add("cars-section"),null!==t&&(t.append(e),t.append(n),await u()),null!==n&&(await l(n),await i(n))},y=async()=>{const e=document.querySelector(".winners-section"),t=document.createRange().createContextualFragment((0,c.D7)()),n=document.createRange().createContextualFragment((0,c.tF)());null!==e&&(null==e||e.append(t),await d(e),null==e||e.append(n),await w()),await h()},h=async()=>{const e=await(0,s.ix)(r.h.winnersPage,r.h.winnersSortType,r.h.winnersOrder),t=document.querySelector(".winners-table"),n=document.querySelector(".winners-table__body"),a=document.querySelector(".winners-headers");let o=0;t.style.opacity="0",o=1===r.h.winnersPage?Math.min(Number(e.count),10):Number(e.count)-10*r.h.winnersPage+10;for(let t=0;t<o;t++){const a=await(0,s.oX)(e.winners[t].id);null==n||n.insertAdjacentHTML("beforeend",(0,c.zC)(t+1+(10*r.h.winnersPage-10),a[0].name,a[0].color,Number(e.winners[t].wins),e.winners[t].time))}a.textContent="",t.style.opacity="1",await d(a)}},968:(e,t,n)=>{n.d(t,{Qr:()=>i,W_:()=>d,cj:()=>o,wD:()=>l});var a=n(601),s=n(203),r=n(349);const c=()=>{const e=a.UM[Math.floor(Math.random()*a.UM.length)];return`${a.yL[Math.floor(Math.random()*a.yL.length)]} ${e}`},o=async e=>{let t=[];for(let n=0;n<e;n++){const e={name:c(),color:`#${Math.random().toString(16).slice(2,8)}`};t.push(e),await(0,s.y0)(e)}await(0,r.AH)()},i=(e,t)=>{document.getElementById(`${t}${e}`).disabled=!1},l=(e,t)=>{document.getElementById(`${t}${e}`).disabled=!0},d=e=>{document.querySelector(".race-button-block__button").disabled=e,document.querySelectorAll(".car-remove").forEach((t=>t.disabled=e))}}},r={};function c(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return s[e](n,n.exports,c),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(s,r,c)=>{var o;c&&((o=[]).d=1),o&&(o.moduleId=s.id);var i,l,d,u=new Set,w=s.exports,m=new Promise(((e,t)=>{d=t,l=e}));m[t]=w,m[e]=e=>(o&&e(o),u.forEach(e),m.catch((e=>{}))),m.moduleId=s.id,s.exports=m,r((s=>{var r;i=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var r=[];r.d=0,s.then((e=>{c[t]=e,a(r)}),(e=>{c[n]=e,a(r)}));var c={};return c[e]=e=>e(r),c}}var o={};return o[e]=e=>{},o[t]=s,o})))(s);var c=()=>i.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(r=()=>t(c)).r=0;var n=e=>e!==o&&!u.has(e)&&(u.add(e),e&&!e.d&&(r.r++,e.push(r)));i.map((t=>t[e](n)))}));return r.r?l:c()}),(e=>(e?d(m[n]=e):l(w),a(o)))),o&&(o.d=0)},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c(607)})();